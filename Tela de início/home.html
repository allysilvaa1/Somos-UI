
<!DOCTYPE html>
<html lang="pt-BR" x-data="{ notificationsOpen: false }">
<head>
<meta charset="utf-8"/>
<meta content="width-device-width, initial-scale-1.0" name="viewport"/>
<title>Início - Prontuário Médico</title>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=PT+Sans:wght@400;700&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
<style type="text/tailwindcss">
  body { font-family: 'PT Sans', sans-serif; }
  .material-symbols-outlined { font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24 }
  .material-symbols-outlined.filled { font-variation-settings: 'FILL' 1; }
  .group:hover .group-hover\:block { display:block; }
  .modal { transition: opacity .25s ease; }
  body.modal-active { overflow-x:hidden; overflow-y:hidden; }
  #courses-carousel::-webkit-scrollbar { display: none; }

  .wip-link { 
    position: relative;
    cursor: not-allowed; 
  }
  .wip-link::after {
    content: attr(title);
    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    margin-top: 5px;
    background-color: #374151;
    color: white;
    padding: 4px 8px;
    border-radius: 0.25rem;
    font-size: 0.75rem;
    font-weight: 500;
    white-space: nowrap;
    z-index: 50;
    visibility: hidden;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.2s;
  }
  .wip-link:hover::after {
    visibility: visible;
    opacity: 1;
  }
  .wip-link.wip-link-top::after {
    top: auto;
    margin-top: 0;
    bottom: 100%;
    margin-bottom: 5px;
  }
</style>
</head>
<body class="bg-[#F0F7FF]">
<div class="flex flex-col min-h-screen">

<header class="bg-white shadow-sm sticky top-0 z-30">
  <div class="max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center h-28">
      <div class="flex items-center">
        <a href="#"><img src="../Imagens/logotipo-sem-fundo.png" alt="Logotipo SOMOS" class="h-24 w-auto"></a>
      </div>
      <nav class="hidden lg:flex space-x-4">
        <a href="#" class="flex flex-col items-center justify-center text-[#6bbdff] font-semibold text-sm w-20 p-2 rounded-lg bg-sky-50 transition-colors">
          <span class="material-symbols-outlined filled text-3xl">home</span>
          <span>Início</span>
        </a>
        <a href="#" class="flex flex-col items-center justify-center text-gray-500 hover:text-[#6bbdff] font-medium text-sm w-20 p-2 rounded-lg hover:bg-sky-50 transition-colors wip-link">
          <span class="material-symbols-outlined text-3xl">group</span>
          <span>Rede</span>
        </a>
        <a href="#" class="flex flex-col items-center justify-center text-gray-500 hover:text-[#6bbdff] font-medium text-sm w-20 p-2 rounded-lg hover:bg-sky-50 transition-colors wip-link">
          <span class="material-symbols-outlined text-3xl">assignment_ind</span>
          <span>Prontuário</span>
        </a>
        <a href="#" class="flex flex-col items-center justify-center text-gray-500 hover:text-[#6bbdff] font-medium text-sm w-20 p-2 rounded-lg hover:bg-sky-50 transition-colors wip-link">
          <span class="material-symbols-outlined text-3xl">calendar_today</span>
          <span>Agenda</span>
        </a>
        <a href="#" class="flex flex-col items-center justify-center text-gray-500 hover:text-[#6bbdff] font-medium text-sm w-20 p-2 rounded-lg hover:bg-sky-50 transition-colors wip-link">
          <span class="material-symbols-outlined text-3xl">sentiment_satisfied</span>
          <span>Humor</span>
        </a>
        <a href="#" class="flex flex-col items-center justify-center text-gray-500 hover:text-[#6bbdff] font-medium text-sm w-20 p-2 rounded-lg hover:bg-sky-50 transition-colors wip-link">
          <span class="material-symbols-outlined text-3xl">chat</span>
          <span>Mensagens</span>
        </a>
        <a href="#" class="flex flex-col items-center justify-center text-gray-500 hover:text-[#6bbdff] font-medium text-sm w-20 p-2 rounded-lg hover:bg-sky-50 transition-colors wip-link">
          <span class="material-symbols-outlined text-3xl">archive</span>
          <span>Arquivos</span>
        </a>
      </nav>
      <div class="flex items-center space-x-4">
        <div x-data="{ searchOpen: false }" @click.away="searchOpen = false" class="relative hidden sm:block h-10 w-10">
            <span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-[#6bbdff] z-10 pointer-events-none">
                search
            </span>
            <input 
                type="text" 
                x-ref="searchInput"
                @click="searchOpen = true; $nextTick(() => $refs.searchInput.focus())"
                :placeholder="searchOpen ? 'Pesquisar...' : ''"
                class="absolute top-0 right-0 bg-gray-50 border border-gray-50 rounded-lg h-full pl-10 pr-4 transition-all duration-300 ease-in-out focus:outline-none cursor-pointer focus:cursor-text"
                :class="searchOpen ? 'w-56' : 'w-10'"
            >
        </div>
        <a @click.prevent="notificationsOpen = !notificationsOpen" href="#" class="relative text-gray-500 hover:text-[#6bbdff] p-2 rounded-lg hover:bg-sky-50 transition-colors">
          <span class="material-symbols-outlined text-3xl">notifications</span>
          <span class="absolute top-1.5 right-1.5 h-2 w-2 rounded-full bg-red-500"></span>
        </a>
        <img alt="Foto do perfil do usuário" class="h-12 w-12 rounded-lg" src="https://lh3.googleusercontent.com/aida-public/AB6AXuCmvhkm1ZAc0CFv-5ZhgmJrjRnP-V5_dQESyWFE-xgMTAU3go2zIrlW8cIEuLv9PdCc-NJvPek_VpmsuFzKc-uMfV35Xvsj8Or-9OKTQ5rmU-4oT6kX8v67Nff0Bn8Z57tOBtu4GAY4Buq0LjqynmCxrRnmWe71oP-WU-3Rdw-K0RoXXFsLA2dWEf4fLtGutodfR9DLO5D79G620g6QgbNpbyrKRB4NiOLfKFELO0gABXdipKMJFdiBW23Pn93_CAt19eoeyDja3n0"/>
        <div class="lg:hidden">
            <button id="mobile-menu-button" class="text-gray-500 hover:text-[#467de9] transition-colors">
                <span class="material-symbols-outlined">menu</span>
            </button>
        </div>
      </div>
    </div>
  </div>
  <div id="mobile-menu" class="hidden lg:hidden bg-white shadow-md">
    <nav class="flex flex-col space-y-1 p-4">
        <a class="flex items-center gap-3 p-2 rounded-lg text-[#6bbdff] font-semibold bg-sky-50" href="#">
            <span class="material-symbols-outlined filled">home</span>
            <span>Início</span>
        </a>
        <a class="flex items-center gap-3 p-2 rounded-lg text-gray-500 hover:text-[#6bbdff] hover:bg-sky-50 wip-link" href="#">
            <span class="material-symbols-outlined">group</span>
            <span>Rede</span>
        </a>
        <a class="flex items-center gap-3 p-2 rounded-lg text-gray-500 hover:text-[#6bbdff] hover:bg-sky-50 wip-link" href="#">
            <span class="material-symbols-outlined">assignment_ind</span>
            <span>Prontuário</span>
        </a>
        <a class="flex items-center gap-3 p-2 rounded-lg text-gray-500 hover:text-[#6bbdff] hover:bg-sky-50 wip-link" href="#">
            <span class="material-symbols-outlined">calendar_today</span>
            <span>Agenda</span>
        </a>
        <a class="flex items-center gap-3 p-2 rounded-lg text-gray-500 hover:text-[#6bbdff] hover:bg-sky-50 wip-link" href="#">
            <span class="material-symbols-outlined">sentiment_satisfied</span>
            <span>Humor</span>
        </a>
        <a class="flex items-center gap-3 p-2 rounded-lg text-gray-500 hover:text-[#6bbdff] hover:bg-sky-50 wip-link" href="#">
            <span class="material-symbols-outlined">chat</span>
            <span>Mensagens</span>
        </a>
        <a class="flex items-center gap-3 p-2 rounded-lg text-gray-500 hover:text-[#6bbdff] hover:bg-sky-50 wip-link" href="#">
            <span class="material-symbols-outlined">archive</span>
            <span>Arquivos</span>
        </a>
        <div class="relative sm:hidden pt-2">
            <span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-[#6bbdff]">search</span>
            <input class="bg-gray-50 border border-gray-50 rounded-lg pl-10 pr-4 py-2 w-full focus:outline-none transition" placeholder="Pesquisar paciente..." type="text"/>
        </div>
    </nav>
  </div>
</header>

<main class="flex-grow py-10">
<div class="max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8">
<div class="grid grid-cols-1 md:grid-cols-12 gap-6">

<aside class="md:col-span-3 lg:col-span-3 space-y-6 md:sticky top-28 self-start">
  <div class="bg-white rounded-xl shadow-sm overflow-hidden w-full lg:w-11/12 lg:ml-auto">
    <div class="relative h-24 bg-cover bg-center" style="background-image:url('https://lh3.googleusercontent.com/aida-public/AB6AXuDX57e-y108_Kk_t7S_Vv0y1p3E5b6o3hC2f4gA0rQ1j2c-X-g1g3o4e_z5j9a_b9g4h5b3c_w8g3k4l3q_r2d1p2j3k4l5m6n7o8')">
      <div class="absolute inset-0 bg-blue-500 opacity-20"></div>
      <button class="absolute top-3 right-3 h-10 w-10 bg-white/20 rounded-full hover:bg-white/40 transition-colors flex items-center justify-center" title="Ver detalhes do Cartão SOMOS">
        <img id="profileCardImage" src="../Imagens/cartao.png" alt="Ícone do Cartão" class="h-6 w-auto relative top-0.5">
        <span id="profileCardIcon" class="material-symbols-outlined hidden relative top-0.5" style="font-size: 24px;"></span>
      </button>
    </div>

    <div class="p-6 relative text-center">
      <img id="currentAvatarTop" alt="Foto do perfil do usuário" class="h-24 w-24 rounded-2xl mx-auto -mt-16 mb-4 ring-4 ring-white" src="https://lh3.googleusercontent.com/aida-public/AB6AXuBTyrv41FvmMs9dEsRUHQH10HCG6iTS3g5OUGaxbd2-JUNlbmfyBWWn6UvFYxDF1IXXNIGDL1aHiJt7cIBUflCtf3DNdkwY465XSYJVfheoRg45dgbAv-7oVRKXH2AZoxVEHp8c-89XVbCQfnvKUzEaPffGwlK1zx0yOZuPpa93uiGgTIHX8Uuh9qRd8u47Er1OvHXIDlL3FTBIz4_3vlUi8rj1cdDFisfkdWlOxaSuGPokYmSk_OgTrm0E7EhhlgjPIO4VrT2Rfw0"/>
      <h2 id="currentNameTitle" class="text-xl font-bold text-[#4d4d4d] text-center">Sofia Almeida</h2>
      <div class="mt-3 text-center">
        <span class="inline-flex items-center bg-gray-100 text-gray-600 text-xs font-medium px-3 py-1 rounded-full">Perfil atual</span>
      </div>

      <div class="mt-4" x-data="{ open: false }" @click.away="open = false">
        <button @click="open = !open" type="button" class="w-full bg-gray-50 border border-gray-200 rounded-lg p-3 flex items-center justify-between cursor-pointer hover:bg-gray-100 transition-colors">
          <div class="flex items-center">
            <img id="currentAvatarItem" alt="Foto do perfil" class="h-8 w-8 rounded-lg mr-3" src="https://lh3.googleusercontent.com/aida-public/AB6AXuBTyrv41FvmMs9dEsRUHQH10HCG6iTS3g5OUGaxbd2-JUNlbmfyBWWn6UvFYxDF1IXXNIGDL1aHiJt7cIBUflCtf3DNdkwY465XSYJVfheoRg45dgbAv-7oVRKXH2AZoxVEHp8c-89XVbCQfnvKUzEaPffGwlK1zx0yOZuPpa93uiGgTIHX8Uuh9qRd8u47Er1OvHXIDlL3FTBIz4_3vlUi8rj1cdDFisfkdWlOxaSuGPokYmSk_OgTrm0E7EhhlgjPIO4VrT2Rfw0"/>
            <div class="flex flex-col items-start">
              <p id="currentNameInline" class="font-semibold text-sm text-[#4d4d4d]">Sofia Almeida</p>
              <div class="flex items-center mt-1">
                <span id="currentAccessPill" class="bg-green-100 text-green-800 text-xs font-medium px-2 py-0.5 rounded-full">Cartão ativo</span>
              </div>
            </div>
          </div>
          <span class="material-symbols-outlined text-gray-500 transition-transform duration-300" :class="{'rotate-180': open}">expand_more</span>
        </button>

        <div id="profilesList" class="pt-4 mt-4 border-t border-gray-100" x-show="open" x-transition>
          <a href="#" @click="open = false" class="profile-option flex items-center px-4 py-3 text-sm text-[#4d4d4d] bg-gray-100 rounded-md border border-gray-100"
             data-name="Sofia Almeida"
             data-avatar="https://lh3.googleusercontent.com/aida-public/AB6AXuBTyrv41FvmMs9dEsRUHQH10HCG6iTS3g5OUGaxbd2-JUNlbmfyBWWn6UvFYxDF1IXXNIGDL1aHiJt7cIBUflCtf3DNdkwY465XSYJVfheoRg45dgbAv-7oVRKXH2AZoxVEHp8c-89XVbCQfnvKUzEaPffGwlK1zx0yOZuPpa93uiGgTIHX8Uuh9qRd8u47Er1OvHXIDlL3FTBIz4_3vlUi8rj1cdDFisfkdWlOxaSuGPokYmSk_OgTrm0E7EhhlgjPIO4VrT2Rfw0"
             data-access="Cartão ativo" data-role="Titular"
             data-access-icon="credit_card" data-access-icon-color="#17a34a" data-access-icon-filled="true"
             data-access-pill-bg="bg-green-100" data-access-pill-text="text-green-800">
            <img class="h-8 w-8 rounded-lg mr-3" src="https://lh3.googleusercontent.com/aida-public/AB6AXuBTyrv41FvmMs9dEsRUHQH10HCG6iTS3g5OUGaxbd2-JUNlbmfyBWWn6UvFYxDF1IXXNIGDL1aHiJt7cIBUflCtf3DNdkwY465XSYJVfheoRg45dgbAv-7oVRKXH2AZoxVEHp8c-89XVbCQfnvKUzEaPffGwlK1zx0yOZuPpa93uiGgTIHX8Uuh9qRd8u47Er1OvHXIDlL3FTBIz4_3vlUi8rj1cdDFisfkdWlOxaSuGPokYmSk_OgTrm0E7EhhlgjPIO4VrT2Rfw0" alt="">
            <div class="flex-grow">
              <div class="profile-details hidden">
                <p class="font-semibold text-[#4d4d4d]">Sofia Almeida</p>
                <p class="text-xs text-gray-500">Titular</p>
                <div class="flex items-center mt-1">
                  <span class="bg-green-100 text-green-800 text-xs font-medium px-2 py-0.5 rounded-full">Cartão ativo</span>
                </div>
              </div>
              <div class="current-indicator">
                <p class="font-semibold text-[#4d4d4d]">Sofia Almeida</p>
                <p class="text-xs text-[#467de9] font-medium">Perfil atual</p>
              </div>
            </div>
            <span class="material-symbols-outlined text-[#467de9] filled check-icon">check_circle</span>
          </a>

          <a href="#" @click="open = false" class="profile-option flex items-center px-4 py-3 text-sm text-[#4d4d4d] hover:bg-gray-100 hover:text-[#4d4d4d] rounded-md mt-1 border border-gray-100"
             data-name="João Almeida"
             data-avatar="https://xsgames.co/randomusers/assets/avatars/male/46.jpg"
             data-access="Crachá ativo" data-role="Filho - Menor de 18"
             data-access-icon="badge" data-access-icon-color="#9333ea" data-access-icon-filled="false"
             data-access-pill-bg="bg-purple-100" data-access-pill-text="text-purple-800">
            <img class="h-8 w-8 rounded-lg mr-3" src="https://xsgames.co/randomusers/assets/avatars/male/46.jpg" alt="">
            <div class="flex-grow">
              <div class="profile-details">
                <p class="font-semibold text-[#4d4d4d]">João Almeida</p>
                <p class="text-xs text-gray-500">Filho - Menor de 18 anos</p>
                <div class="flex items-center mt-1">
                  <span class="bg-purple-100 text-purple-800 text-xs font-medium px-2 py-0.5 rounded-full">Crachá ativo</span>
                </div>
              </div>
              <div class="current-indicator hidden">
                <p class="font-semibold text-[#4d4d4d]">João Almeida</p>
                <p class="text-xs text-[#467de9] font-medium">Perfil atual</p>
              </div>
            </div>
            <span class="material-symbols-outlined text-[#467de9] filled check-icon hidden">check_circle</span>
          </a>

          <a href="#" @click="open = false" class="profile-option flex items-center px-4 py-3 text-sm text-[#4d4d4d] hover:bg-gray-100 hover:text-[#4d4d4d] rounded-md mt-1 border border-gray-100"
             data-name="Maria Almeida"
             data-avatar="https://xsgames.co/randomusers/assets/avatars/female/46.jpg"
             data-access="Crachá ativo" data-role="Filha - Menor de 18"
             data-access-icon="badge" data-access-icon-color="#9333ea" data-access-icon-filled="false"
             data-access-pill-bg="bg-purple-100" data-access-pill-text="text-purple-800">
            <img class="h-8 w-8 rounded-lg mr-3" src="https://xsgames.co/randomusers/assets/avatars/female/46.jpg" alt="">
            <div class="flex-grow">
              <div class="profile-details">
                <p class="font-semibold text-[#4d4d4d]">Maria Almeida</p>
                <p class="text-xs text-gray-500">Filha - Menor de 18 anos</p>
                <div class="flex items-center mt-1">
                  <span class="bg-purple-100 text-purple-800 text-xs font-medium px-2 py-0.5 rounded-full">Crachá ativo</span>
                </div>
              </div>
              <div class="current-indicator hidden">
                <p class="font-semibold text-[#4d4d4d]">Maria Almeida</p>
                <p class="text-xs text-[#467de9] font-medium">Perfil atual</p>
              </div>
            </div>
            <span class="material-symbols-outlined text-[#467de9] filled check-icon hidden">check_circle</span>
          </a>

          <a href="#" @click="open = false" class="profile-option flex items-center px-4 py-3 text-sm text-[#4d4d4d] hover:bg-gray-100 hover:text-[#4d4d4d] rounded-md mt-1 border border-gray-100"
             data-name="Lúcia Santos"
             data-avatar="https://randomuser.me/api/portraits/women/81.jpg"
             data-access="Cartão ativo" data-role="Mãe - Idosa (+60)"
             data-access-icon="credit_card" data-access-icon-color="#17a34a" data-access-icon-filled="true"
             data-access-pill-bg="bg-green-100" data-access-pill-text="text-green-800">
            <img class="h-8 w-8 rounded-lg mr-3" src="https://randomuser.me/api/portraits/women/81.jpg" alt="">
            <div class="flex-grow">
              <div class="profile-details">
                <p class="font-semibold text-[#4d4d4d]">Lúcia Santos</p>
                <p class="text-xs text-gray-500">Mãe/Dependente - Idosa</p>
                <div class="flex items-center mt-1">
                  <span class="bg-green-100 text-green-800 text-xs font-medium px-2 py-0.5 rounded-full">Cartão ativo</span>
                </div>
              </div>
              <div class="current-indicator hidden">
                <p class="font-semibold text-[#4d4d4d]">Lúcia Santos</p>
                <p class="text-xs text-[#467de9] font-medium">Perfil atual</p>
              </div>
            </div>
            <span class="material-symbols-outlined text-[#467de9] filled check-icon hidden">check_circle</span>
          </a>

          <a href="#" @click="open = false" class="profile-option flex items-center px-4 py-3 text-sm text-[#4d4d4d] hover:bg-gray-100 hover:text-[#4d4d4d] rounded-md mt-1 border border-gray-100"
             data-name="José Santos"
             data-avatar="https://randomuser.me/api/portraits/men/71.jpg"
             data-access="Cartão ativo" data-role="Pai - Idoso (+60)"
             data-access-icon="credit_card" data-access-icon-color="#17a34a" data-access-icon-filled="true"
             data-access-pill-bg="bg-green-100" data-access-pill-text="text-green-800">
            <img class="h-8 w-8 rounded-lg mr-3" src="https://randomuser.me/api/portraits/men/71.jpg" alt="">
            <div class="flex-grow">
              <div class="profile-details">
                <p class="font-semibold text-[#4d4d4d]">José Santos</p>
                <p class="text-xs text-gray-500">Pai/Dependente - Idoso</p>
                <div class="flex items-center mt-1">
                  <span class="bg-green-100 text-green-800 text-xs font-medium px-2 py-0.5 rounded-full">Cartão ativo</span>
                </div>
              </div>
              <div class="current-indicator hidden">
                <p class="font-semibold text-[#4d4d4d]">José Santos</p>
                <p class="text-xs text-[#467de9] font-medium">Perfil atual</p>
              </div>
            </div>
            <span class="material-symbols-outlined text-[#467de9] filled check-icon hidden">check_circle</span>
          </a>
        </div>
      </div>
    </div>
  </div>

  <div class="bg-white p-6 rounded-xl shadow-sm w-full lg:w-11/12 lg:ml-auto" 
       x-data="{
          open: true,
          addMetricModalOpen: false,
          healthData: [
            { id: 'heart_rate', name: 'Batimentos', value: '72 bpm', href: './saude-batimentos.html', icon: 'favorite', iconBgClass: 'bg-red-100', iconTextClass: 'text-red-500', lastUpdate: new Date() },
            { id: 'weight', name: 'Peso', value: '75 kg', href: './saude-peso.html', icon: 'monitor_weight', iconBgClass: 'bg-blue-100', iconTextClass: 'text-blue-500', lastUpdate: new Date(new Date().setDate(new Date().getDate() - 1)) },
            { id: 'calories', name: 'Calorias', value: '2200 kcal', href: './saude-calorias.html', icon: 'local_fire_department', iconBgClass: 'bg-orange-100', iconTextClass: 'text-orange-500', lastUpdate: new Date(new Date().setDate(new Date().getDate() - 1)) },
            { id: 'sleep', name: 'Sono', value: '7h<br>30m', href: './saude-sono.html', icon: 'bedtime', iconBgClass: 'bg-indigo-100', iconTextClass: 'text-indigo-500', lastUpdate: new Date('2025-09-18T23:00:00Z') },
            { id: 'height', name: 'Altura', value: '1.80 m', href: './saude-altura.html', icon: 'height', iconBgClass: 'bg-blue-100', iconTextClass: 'text-blue-500', lastUpdate: new Date('2025-01-10T09:00:00Z') },
          ],
          availableMetrics: [
            { id: 'glucose', name: 'Glicose', unit: 'mg/dL', href: '#', icon: 'bloodtype', iconBgClass: 'bg-red-100', iconTextClass: 'text-red-500' },
            { id: 'cholesterol', name: 'Colesterol', unit: 'mg/dL', href: '#', icon: 'water_drop', iconBgClass: 'bg-yellow-100', iconTextClass: 'text-yellow-500' },
            { id: 'blood_pressure', name: 'Pressão arterial', unit: '', href: '#', icon: 'blood_pressure', iconBgClass: 'bg-purple-100', iconTextClass: 'text-purple-500' },
          ],
          get sortedData() {
            return this.healthData.sort((a, b) => new Date(b.lastUpdate) - new Date(a.lastUpdate));
          },
          get untrackedMetrics() {
              const trackedIds = this.healthData.map(item => item.id);
              return this.availableMetrics.filter(metric => !trackedIds.includes(metric.id));
          },
          formatRelativeDate(date) {
            const d = new Date(date);
            const day = String(d.getDate()).padStart(2, '0');
            const month = String(d.getMonth() + 1).padStart(2, '0');
            const year = String(d.getFullYear()).slice(-2);
            const hours = String(d.getHours()).padStart(2, '0');
            const minutes = String(d.getMinutes()).padStart(2, '0');
            return `Última atualização:<br>${day}/${month}/${year} às ${hours}:${minutes}h`;
          },
          addMetric(metricId) {
            const metricToAdd = this.availableMetrics.find(m => m.id === metricId);
            if (metricToAdd) {
              this.healthData.push({
                ...metricToAdd,
                value: `- ${metricToAdd.unit}`.trim(),
                lastUpdate: new Date()
              });
              this.addMetricModalOpen = false;
            }
          }
       }">
    <div @click="open = !open" class="flex justify-between items-center cursor-pointer">
        <h3 class="text-lg font-semibold text-[#4d4d4d]">Minha saúde</h3>
        <span class="material-symbols-outlined transition-transform duration-300" :class="{'rotate-180': !open}">expand_more</span>
    </div>

    <div class="mt-5" x-show="!open" x-transition>
        <div class="flex items-center justify-center space-x-2">
            <template x-for="item in sortedData" :key="item.id">
                <div :class="item.iconBgClass" class="wip-link flex items-center justify-center h-10 w-10 rounded-lg" :title="item.name">
                    <span class="material-symbols-outlined" :class="item.iconTextClass" x-text="item.icon"></span>
                </div>
            </template>
        </div>
    </div>

    <div class="space-y-1 mt-5" x-show="open" x-transition>
        <template x-for="item in sortedData" :key="item.id">
            <a :href="item.href" class="wip-link w-full flex justify-between items-center p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200 cursor-pointer text-left">
                <div class="flex items-center">
                    <div :class="item.iconBgClass" class="flex items-center justify-center h-10 w-10 rounded-lg mr-3">
                        <span class="material-symbols-outlined" :class="item.iconTextClass" x-text="item.icon"></span>
                    </div>
                    <div>
                        <p class="text-[#4d4d4d] text-sm font-semibold" x-text="item.name"></p>
                        <p class="text-[11px] text-gray-400 leading-tight" x-html="formatRelativeDate(item.lastUpdate)"></p>
                    </div>
                </div>
                <div class="font-semibold text-[#4d4d4d] text-sm text-right" :class="item.value.includes('<br>') ? 'leading-tight' : ''" x-html="item.value"></div>
            </a>
        </template>
        <div class="pt-2 text-center">
            <a href="#" @click.prevent="addMetricModalOpen = true" class="text-sm font-semibold text-[#467de9] hover:underline mt-2 inline-block">
                Adicionar novo parâmetro
            </a>
        </div>
    </div>

    <div x-show="addMetricModalOpen" class="fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center z-50" @keydown.escape.window="addMetricModalOpen = false" style="display: none;">
        <div @click.away="addMetricModalOpen = false" class="bg-white rounded-xl shadow-lg p-6 w-full max-w-sm">
            <h3 class="text-lg font-bold text-gray-800 mb-4">Adicionar parâmetro</h3>
            <div class="space-y-2">
                <template x-if="untrackedMetrics.length === 0">
                    <p class="text-gray-500 text-sm text-center py-4">Todos os parâmetros já estão sendo monitorados.</p>
                </template>
                <template x-for="metric in untrackedMetrics" :key="metric.id">
                    <button @click="addMetric(metric.id)" class="w-full flex items-center p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200 text-left">
                        <div :class="metric.iconBgClass" class="flex items-center justify-center h-10 w-10 rounded-lg mr-3">
                            <span class="material-symbols-outlined" :class="metric.iconTextClass" x-text="metric.icon"></span>
                        </div>
                        <span class="text-[#4d4d4d] text-sm font-semibold" x-text="metric.name"></span>
                    </button>
                </template>
            </div>
             <div class="mt-6 flex justify-end">
                <button type="button" @click="addMetricModalOpen = false" class="bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none">
                    Fechar
                </button>
            </div>
        </div>
    </div>
  </div>
  
  <div class="bg-white p-6 rounded-xl shadow-sm w-full lg:w-11/12 lg:ml-auto" x-data="{ open: true }">
    <div @click="open = !open" class="flex justify-between items-center cursor-pointer">
        <h3 class="text-lg font-semibold text-[#4d4d4d]">Eventos</h3>
        <span class="material-symbols-outlined transition-transform duration-300" :class="{'rotate-180': !open}">expand_more</span>
    </div>
    <div class="space-y-4 mt-5" x-show="open" x-transition>
      <div class="flex items-start space-x-3">
        <img alt="Foto do perfil de Leana Moraes" class="h-10 w-10 rounded-lg" src="https://randomuser.me/api/portraits/women/33.jpg"/>
        <div class="flex-grow">
          <p class="font-semibold text-sm text-[#4d4d4d]">Encontro de mães - crianças com autismo</p>
          <p class="text-xs text-gray-500 mt-0.5"><span class="font-medium">Quando:</span> 28/09/25 - 15:00</p>
          <p class="text-xs text-gray-500"><span class="font-medium">Onde:</span> Cafeteria São Braz</p>
          <p class="text-xs text-gray-400 mt-1">Criado por Leana Moraes</p>
        </div>
        <a href="#" class="text-xs font-semibold text-[#467de9] hover:underline whitespace-nowrap wip-link">Ver mais</a>
      </div>
      <div class="border-t border-gray-100"></div>
      <div class="flex items-start space-x-3">
        <img alt="Foto do perfil de Ricardo Gomes" class="h-10 w-10 rounded-lg" src="https://randomuser.me/api/portraits/men/33.jpg"/>
        <div class="flex-grow">
          <p class="font-semibold text-sm text-[#4d4d4d]">Roda de conversa: TDAH na vida adulta</p>
          <p class="text-xs text-gray-500 mt-0.5"><span class="font-medium">Quando:</span> 05/10/25 - 19:00</p>
          <p class="text-xs text-gray-500"><span class="font-medium">Onde:</span> Online (Link no grupo)</p>
          <p class="text-xs text-gray-400 mt-1">Criado por Ricardo Gomes</p>
        </div>
        <a href="#" class="text-xs font-semibold text-[#467de9] hover:underline whitespace-nowrap wip-link">Participar</a>
      </div>
    </div>
  </div>
</aside>

<section class="md:col-span-9 lg:col-span-6 space-y-6">
  <div class="bg-gradient-to-br from-[#467de9] to-[#4273c3] text-white p-6 rounded-xl shadow-lg">
    <div class="grid grid-cols-1 lg:grid-cols-5 lg:gap-x-4">
      <div class="flex flex-col lg:col-span-3">
        <div>
          <h3 class="text-2xl font-bold">Consulta | Dr thiago Martin</h3>
          <div class="flex items-center flex-wrap gap-2 mt-3">
              <span class="inline-block bg-white/20 text-white text-xs font-semibold px-3 py-1 rounded-full">Endocrinologia e Metabologia</span>
              <span class="inline-block text-white text-xs font-semibold px-3 py-1 rounded-full" style="background-color: rgba(147, 51, 234, 0.5);">Endocrinologia e Nutrição</span>
          </div>
          <p class="opacity-90 mt-3">Amanhã, 28 de julho de 2025 - 10:30</p>
          <div class="flex items-center mt-3 opacity-90">
            <span class="material-symbols-outlined text-base mr-1.5">location_on</span>
            <span class="text-sm">Rua das Flores, 123 - Recife, PE</span>
          </div>
          <button class="flex items-center text-white/80 hover:text-white transition-colors whitespace-nowrap mt-3 opacity-90 wip-link">
            <span class="material-symbols-outlined text-base mr-1.5">attachment</span>
            <span class="text-sm">Anexar arquivos</span>
          </button>
        </div>
        <div class="flex flex-col sm:flex-row items-start sm:items-center gap-4 mt-auto pt-4">
          <div x-data="{ open: false, status: { text: 'Ações', icon: null } }" class="relative">
            <button @click="open = !open" class="flex items-center bg-white/20 text-white rounded-lg px-4 py-2 text-sm font-semibold hover:bg-white/30 transition-colors whitespace-nowrap">
                <span x-if="status.icon" class="material-symbols-outlined text-base mr-1.5" x-text="status.icon"></span>
                <span x-text="status.text"></span>
                <span x-if="!status.icon" class="material-symbols-outlined text-base ml-1.5 transition-transform duration-200" :class="{'rotate-180': open}">expand_more</span>
            </button>
            <div x-show="open" 
                 @click.away="open = false" 
                 x-transition:enter="transition ease-out duration-100"
                 x-transition:enter-start="transform opacity-0 scale-95"
                 x-transition:enter-end="transform opacity-100 scale-100"
                 x-transition:leave="transition ease-in duration-75"
                 x-transition:leave-start="transform opacity-100 scale-100"
                 x-transition:leave-end="transform opacity-0 scale-95"
                 class="absolute top-full mt-2 w-48 bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5 z-10 origin-top"
                 style="display: none;">
                <div class="py-1" role="menu" aria-orientation="vertical" aria-labelledby="options-menu">
                    <a href="#" @click.prevent="status = { text: 'Consulta confirmada', icon: 'event_available' }; open = false" class="flex items-center gap-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" role="menuitem">
                        <span class="material-symbols-outlined text-base text-green-600">event_available</span>
                        Confirmar consulta
                    </a>
                    <a href="#" @click.prevent="status = { text: 'Consulta cancelada', icon: 'event_busy' }; open = false" class="flex items-center gap-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" role="menuitem">
                         <span class="material-symbols-outlined text-base text-red-600">event_busy</span>
                        Cancelar consulta
                    </a>
                </div>
            </div>
          </div>
          <button class="flex items-center text-white/80 hover:text-white transition-colors whitespace-nowrap wip-link">
            <span class="material-symbols-outlined text-base mr-1.5">videocam</span>Iniciar teleconsulta
          </button>
        </div>
      </div>
      
      <div class="mt-8 lg:mt-0 lg:pl-6 lg:border-l lg:border-white/20 lg:col-span-2">
        <h4 class="text-sm font-medium opacity-80 mb-4 tracking-wider">Próximas consultas</h4>
        <div class="space-y-4 text-sm">
            <div class="flex justify-between items-start opacity-90">
                <div class="flex items-start gap-3">
                    <span class="material-symbols-outlined text-xl relative -top-0.5">event</span>
                    <div>
                        <p class="font-semibold">Consulta | Dr Marcos Paulo</p>
                        <div class="flex items-center flex-nowrap gap-1 mt-1.5">
                           <span class="inline-block bg-white/20 text-white text-[9px] font-semibold px-2.5 py-0.5 rounded-full tracking-wide">Anestesiologista</span>
                           <span class="inline-block text-white text-[9px] font-semibold px-2.5 py-0.5 rounded-full tracking-wide" style="background-color: rgba(147, 51, 234, 0.5);">Coluna</span>
                        </div>
                        <p class="text-xs opacity-80 mt-1.5">05 de agosto de 2025 - 14:00</p>
                    </div>
                </div>
                <a href="#" class="font-semibold hover:underline text-xs mt-1 flex-shrink-0 wip-link">Ver</a>
            </div>
            <div class="flex justify-between items-start opacity-90">
                <div class="flex items-start gap-3">
                    <span class="material-symbols-outlined text-xl relative -top-0.5">science</span>
                    <div>
                        <p class="font-semibold">Exame de sangue</p>
                        <span class="inline-block bg-white/20 text-white text-[9px] font-semibold px-2.5 py-0.5 rounded-full tracking-wide mt-1.5">Exame laboratorial</span>
                        <p class="text-xs opacity-80 mt-1.5">12 de agosto de 2025 - 08:00</p>
                    </div>
                </div>
                <a href="#" class="font-semibold hover:underline text-xs mt-1 flex-shrink-0 wip-link">Ver</a>
            </div>
        </div>
      </div>
    </div>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <div class="bg-white p-6 rounded-xl shadow-sm">
      <h3 class="text-lg font-semibold text-[#4d4d4d] mb-4">Resumo do registro</h3>
      <div class="space-y-4">
        <div class="flex items-center">
          <div class="bg-[#6bbdff]/20 p-2 rounded-lg mr-4"><span class="material-symbols-outlined text-[#467de9]">person</span></div>
          <div><p class="text-sm text-gray-500">Último médico</p><p class="font-semibold text-[#4d4d4d]">Dra. Beatriz Costa</p></div>
        </div>
        <div class="flex items-center">
          <div class="bg-[#6bbdff]/20 p-2 rounded-lg mr-4"><span class="material-symbols-outlined text-[#467de9]">science</span></div>
          <div><p class="text-sm text-gray-500">Último exame</p><p class="font-semibold text-[#4d4d4d]">Hemograma completo</p></div>
        </div>
        <div class="flex items-center">
          <div class="bg-[#6bbdff]/20 p-2 rounded-lg mr-4"><span class="material-symbols-outlined text-[#467de9]">medication</span></div>
          <div><p class="text-sm text-gray-500">Última medicação</p><p class="font-semibold text-[#4d4d4d]">Losartana 50mg</p></div>
        </div>
      </div>
    </div>
    <div class="bg-white p-6 rounded-xl shadow-sm flex flex-col">
      <h3 class="text-lg font-bold text-[#4d4d4d]">Diário de bordo</h3>
      <div class="space-y-4 my-4 flex-grow">
        <div class="flex items-start gap-3">
            <span class="material-symbols-outlined text-yellow-500 mt-1">sentiment_satisfied</span>
            <div>
                <p class="text-xs text-gray-500">Ontem, 20:45</p>
                <p class="text-sm text-[#4d4d4d]">Me senti muito bem após a caminhada no parque. A dor no joelho diminuiu consideravelmente.</p>
            </div>
        </div>
        <div class="flex items-start gap-3">
            <span class="material-symbols-outlined text-blue-500 mt-1">edit_note</span>
            <div>
                <p class="text-xs text-gray-500">Há 3 dias, 09:12</p>
                <p class="text-sm text-[#4d4d4d]">Conversei com a Dra. Ana e ajustamos a dose do medicamento. Vamos observar os resultados...</p>
            </div>
        </div>
      </div>
      <div class="flex justify-between items-center mt-auto pt-4 border-t">
        <a href="./diario-de-bordo.html" class="text-sm font-semibold text-[#467de9] hover:underline">Ver diário completo</a>
        <button class="flex items-center gap-2 bg-[#467de9] text-white font-bold py-2 px-4 rounded-lg text-sm hover:bg-[#3a6ed1] transition-colors wip-link">
            <span class="material-symbols-outlined">add</span>
            Nova entrada
        </button>
      </div>
    </div>
  </div>
  
  <div class="bg-white p-6 rounded-xl shadow-sm">
    <div class="flex justify-between items-center mb-6">
        <h3 class="text-xl font-bold text-[#4d4d4d]">Programas parceiros</h3>
        <div class="hidden sm:flex items-center space-x-2">
            <button id="scroll-left-btn" class="p-1 rounded-full hover:bg-gray-100 text-gray-600 disabled:text-gray-300 disabled:cursor-not-allowed">
                <span class="material-symbols-outlined">chevron_left</span>
            </button>
            <button id="scroll-right-btn" class="p-1 rounded-full hover:bg-gray-100 text-gray-600 disabled:text-gray-300 disabled:cursor-not-allowed">
                <span class="material-symbols-outlined">chevron_right</span>
            </button>
        </div>
    </div>
    <div id="courses-carousel" class="flex overflow-x-auto space-x-6 pb-4 scroll-smooth snap-x snap-mandatory" style="scrollbar-width: none; -ms-overflow-style: none;">
        <div class="snap-start flex-shrink-0 w-11/12 sm:w-72">
            <div class="bg-white rounded-xl shadow-md overflow-hidden border border-gray-100 flex flex-col h-full">
                <img class="h-48 w-full object-cover" src="../Imagens/mulher-gravida.jpg" alt="Programa para de Gestantes">
                <div class="p-4 flex flex-col flex-grow">
                    <div class="flex items-center space-x-2 mb-3 text-xs text-gray-600">
                        <span class="flex items-center bg-gray-100 rounded-full px-3 py-1"><span class="material-symbols-outlined text-sm mr-1.5">schedule</span>8h</span>
                        <span class="flex items-center bg-gray-100 rounded-full px-3 py-1"><span class="material-symbols-outlined text-sm mr-1.5">groups</span>IMIP</span>
                        <span class="flex items-center bg-gray-100 rounded-full px-3 py-1"><span class="material-symbols-outlined text-sm mr-1.5">person</span>+2 mil</span>
                    </div>
                    <h4 class="font-bold text-base text-[#4d4d4d] mb-2 flex-grow">Programa de preparação para o parto - IMIP</h4>
                    <div class="flex justify-end items-center mt-auto pt-3">
                        <a href="#" class="bg-[#467de9] text-white font-bold py-2 px-4 rounded-lg text-sm hover:bg-[#3a6ed1] transition-colors wip-link wip-link-top">Inscrever-se</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="snap-start flex-shrink-0 w-11/12 sm:w-72">
            <div class="bg-white rounded-xl shadow-md overflow-hidden border border-gray-100 flex flex-col h-full">
                <img class="h-48 w-full object-cover" src="../Imagens/mulher-amamentando.jpg" alt="Programa de Amamentação">
                <div class="p-4 flex flex-col flex-grow">
                    <div class="flex items-center space-x-2 mb-3 text-xs text-gray-600">
                        <span class="flex items-center bg-gray-100 rounded-full px-3 py-1"><span class="material-symbols-outlined text-sm mr-1.5">schedule</span>4h 30m</span>
                        <span class="flex items-center bg-gray-100 rounded-full px-3 py-1"><span class="material-symbols-outlined text-sm mr-1.5">groups</span>Online</span>
                        <span class="flex items-center bg-gray-100 rounded-full px-3 py-1"><span class="material-symbols-outlined text-sm mr-1.5">person</span>+5 mil</span>
                    </div>
                    <h4 class="font-bold text-base text-[#4d4d4d] mb-2 flex-grow">Amamentação descomplicada</h4>
                    <div class="flex justify-end items-center mt-auto pt-3">
                        <a href="#" class="bg-[#467de9] text-white font-bold py-2 px-4 rounded-lg text-sm hover:bg-[#3a6ed1] transition-colors wip-link wip-link-top">Inscrever-se</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="snap-start flex-shrink-0 w-11/12 sm:w-72">
            <div class="bg-white rounded-xl shadow-md overflow-hidden border border-gray-100 flex flex-col h-full">
                <img class="h-48 w-full object-cover" src="../Imagens/primeiros-socorros.jpg" alt="Workshop de Primeiros Socorros">
                <div class="p-4 flex flex-col flex-grow">
                    <div class="flex items-center space-x-2 mb-3 text-xs text-gray-600">
                        <span class="flex items-center bg-gray-100 rounded-full px-3 py-1"><span class="material-symbols-outlined text-sm mr-1.5">schedule</span>3h</span>
                        <span class="flex items-center bg-gray-100 rounded-full px-3 py-1"><span class="material-symbols-outlined text-sm mr-1.5">groups</span>Presencial</span>
                        <span class="flex items-center bg-gray-100 rounded-full px-3 py-1"><span class="material-symbols-outlined text-sm mr-1.5">person</span>+980</span>
                    </div>
                    <h4 class="font-bold text-base text-[#4d4d4d] mb-2 flex-grow">Primeiros socorros para bebês</h4>
                     <div class="flex justify-end items-center mt-auto pt-3">
                        <a href="#" class="bg-[#467de9] text-white font-bold py-2 px-4 rounded-lg text-sm hover:bg-[#3a6ed1] transition-colors wip-link wip-link-top">Inscrever-se</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="snap-start flex-shrink-0 w-11/12 sm:w-72">
            <div class="bg-white rounded-xl shadow-md overflow-hidden border border-gray-100 flex flex-col h-full">
                <img class="h-48 w-full object-cover" src="https://images.unsplash.com/photo-1543353071-873f17a7a088?q=80&w=2670&auto=format&fit=crop" alt="Nutrição na Gestação">
                <div class="p-4 flex flex-col flex-grow">
                    <div class="flex items-center space-x-2 mb-3 text-xs text-gray-600">
                        <span class="flex items-center bg-gray-100 rounded-full px-3 py-1"><span class="material-symbols-outlined text-sm mr-1.5">schedule</span>6h</span>
                        <span class="flex items-center bg-gray-100 rounded-full px-3 py-1"><span class="material-symbols-outlined text-sm mr-1.5">groups</span>Online</span>
                        <span class="flex items-center bg-gray-100 rounded-full px-3 py-1"><span class="material-symbols-outlined text-sm mr-1.5">person</span>+750</span>
                    </div>
                    <h4 class="font-bold text-base text-[#4d4d4d] mb-2 flex-grow">Nutrição na gestação: coma bem por dois</h4>
                     <div class="flex justify-end items-center mt-auto pt-3">
                        <a href="#" class="bg-[#467de9] text-white font-bold py-2 px-4 rounded-lg text-sm hover:bg-[#3a6ed1] transition-colors wip-link wip-link-top">Inscrever-se</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="snap-start flex-shrink-0 w-11/12 sm:w-72">
            <div class="bg-white rounded-xl shadow-md overflow-hidden border border-gray-100 flex flex-col h-full">
                <img class="h-48 w-full object-cover" src="../Imagens/maes-empreendedoras.png" alt="Encontro de Mães">
                <div class="p-4 flex flex-col flex-grow">
                    <div class="flex items-center space-x-2 mb-3 text-xs text-gray-600">
                        <span class="flex items-center bg-gray-100 rounded-full px-3 py-1"><span class="material-symbols-outlined text-sm mr-1.5">schedule</span>2h</span>
                        <span class="flex items-center bg-gray-100 rounded-full px-3 py-1"><span class="material-symbols-outlined text-sm mr-1.5">groups</span>Evento</span>
                        <span class="flex items-center bg-gray-100 rounded-full px-3 py-1"><span class="material-symbols-outlined text-sm mr-1.5">person</span>+3.2 mil</span>
                    </div>
                    <h4 class="font-bold text-base text-[#4d4d4d] mb-2 flex-grow">Evento online: encontro de mães empreendedoras</h4>
                    <div class="flex justify-end items-center mt-auto pt-3">
                        <a href="#" class="bg-[#467de9] text-white font-bold py-2 px-4 rounded-lg text-sm hover:bg-[#3a6ed1] transition-colors wip-link wip-link-top">Participar</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
  </div>
</section>

<aside class="md:col-span-9 md:col-start-4 lg:col-span-3 lg:col-start-auto space-y-6 lg:sticky top-28 self-start">
  <div class="w-full lg:w-11/12 rounded-xl overflow-hidden shadow-sm">
    <a href="#">
      <video class="w-full h-auto" autoplay muted loop playsinline>
          <source src="../Vídeos/propaganda.mp4" type="video/mp4">
          Seu navegador não suporta o vídeo.
      </video>
    </a>
  </div>
  <div class="w-full lg:w-11/12 rounded-xl overflow-hidden shadow-sm">
    <a href="#">
      <img src="../Imagens/anuncio-2.jpeg" alt="Anúncio de plano de saúde" class="w-full h-auto">
    </a>
  </div>
  <div class="px-2 w-full lg:w-11/12">
    <div class="flex flex-wrap justify-center gap-x-4 gap-y-1 text-xs text-blue-400">
      <a href="#" class="hover:underline">Sobre</a>
      <a href="#" class="hover:underline">Acessibilidade</a>
      <a href="#" class="hover:underline">Central de ajuda</a>
      <a href="#" class="hover:underline">Termos e privacidade</a>
      <a href="#" class="hover:underline">Preferências de anúncios</a>
      <a href="#" class="hover:underline">Publicidade</a>
      <a href="#" class="hover:underline">Serviços empresariais</a>
      <a href="#" class="hover:underline">Baixe o aplicativo</a>
      <a href="#" class="hover:underline">Mais</a>
    </div>
    <div class="mt-4 flex items-center justify-center space-x-2">
      <img src="../Imagens/logomarca-somos.png" alt="Logomarca SOMOS" class="h-6 w-auto">
      <p class="text-sm text-[#4d4d4d]">Health Tec© 2024</p>
    </div>
  </div>
</aside>

</div>
</div>
</main>
</div>

<div
    x-show="notificationsOpen"
    @click.away="notificationsOpen = false"
    @keydown.escape.window="notificationsOpen = false"
    x-transition:enter="transition ease-out duration-200"
    x-transition:enter-start="opacity-0 transform -translate-y-2"
    x-transition:enter-end="opacity-100 transform translate-y-0"
    x-transition:leave="transition ease-in duration-150"
    x-transition:leave-start="opacity-100 transform translate-y-0"
    x-transition:leave-end="opacity-0 transform -translate-y-2"
    class="fixed top-20 right-4 sm:right-6 lg:right-8 w-full max-w-sm bg-white rounded-xl shadow-lg ring-1 ring-black ring-opacity-5 z-40"
    style="display: none;"
>
    <div class="p-4 border-b">
        <div class="flex justify-between items-center">
        <h3 class="text-lg font-bold text-[#4d4d4d]">Notificações</h3>
        <button @click="notificationsOpen = false" class="text-gray-400 hover:text-gray-600">
            <span class="material-symbols-outlined">close</span>
        </button>
        </div>
    </div>
    <div class="p-2 max-h-96 overflow-y-auto">
        <div class="space-y-2 p-2">
            <div class="flex items-start bg-yellow-50/50 border-l-4 border-yellow-400 p-3 rounded-r-lg">
                <span class="material-symbols-outlined text-yellow-600 mt-0.5 mr-3">vaccines</span>
                <div>
                    <p class="font-semibold text-sm text-yellow-800">Lembrete de vacina</p>
                    <p class="text-sm text-yellow-700 mt-0.5">Vacina da gripe agendada para 05/08.</p>
                </div>
            </div>
            <div class="flex items-start bg-red-50/50 border-l-4 border-red-400 p-3 rounded-r-lg">
                <span class="material-symbols-outlined text-red-600 mt-0.5 mr-3">warning</span>
                <div>
                    <p class="font-semibold text-sm text-red-800">Medicação terminando</p>
                    <p class="text-sm text-red-700 mt-0.5">Sua losartana termina em 3 dias.</p>
                </div>
            </div>
            <div class="flex items-start bg-[#467de9]/10 border-l-4 border-[#467de9] p-3 rounded-r-lg">
                <span class="material-symbols-outlined text-[#467de9] mt-0.5 mr-3">checklist</span>
                <div>
                    <p class="font-semibold text-sm text-[#467de9]">Check-up atrasado</p>
                    <p class="text-sm text-[#467de9] mt-0.5">Agende seu check-up anual.</p>
                </div>
            </div>
        </div>
    </div>
    <div class="p-2 bg-gray-50 rounded-b-xl text-center">
        <a href="#" class="text-sm font-semibold text-[#467de9] hover:underline">Ver todas as notificações</a>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {

  const mobileMenuButton = document.getElementById('mobile-menu-button');
  const mobileMenu = document.getElementById('mobile-menu');
  mobileMenuButton.addEventListener('click', () => {
    mobileMenu.classList.toggle('hidden');
  });

  const listEl = document.getElementById('profilesList');
  const currentNameTitle = document.getElementById('currentNameTitle');
  const currentNameInline = document.getElementById('currentNameInline');
  const currentAvatarTop = document.getElementById('currentAvatarTop');
  const currentAvatarItem = document.getElementById('currentAvatarItem');
  const currentAccessPill = document.getElementById('currentAccessPill');
  const profileCardImage = document.getElementById('profileCardImage');
  const profileCardIcon = document.getElementById('profileCardIcon');

  function clearCurrentMarks() {
    listEl.querySelectorAll('.profile-option').forEach(el => {
      el.classList.remove('bg-gray-100');
      el.querySelector('.check-icon').classList.add('hidden');
      el.querySelector('.profile-details').classList.remove('hidden');
      el.querySelector('.current-indicator').classList.add('hidden');
    });
  }

  function markAsCurrent(anchor) {
    anchor.classList.add('bg-gray-100');
    anchor.querySelector('.check-icon').classList.remove('hidden');
    anchor.querySelector('.profile-details').classList.add('hidden');
    anchor.querySelector('.current-indicator').classList.remove('hidden');
  }

  function switchProfile(a) {
    const name = a.dataset.name;
    const avatar = a.dataset.avatar;
    const access = a.dataset.access;
    const pillBg = a.dataset.accessPillBg;
    const pillText = a.dataset.accessPillText;
    const icon = a.dataset.accessIcon;
    const iconColor = a.dataset.accessIconColor;
    const iconFilled = a.dataset.accessIconFilled === 'true';

    currentNameTitle.textContent = name;
    currentNameInline.textContent = name;
    currentAvatarTop.src = avatar;
    currentAvatarItem.src = avatar;
    currentAccessPill.textContent = access;

    currentAccessPill.className = `text-xs font-medium px-2 py-0.5 rounded-full ${pillBg} ${pillText}`;

    if (profileCardImage && profileCardIcon) {
        if (icon === 'badge') {
            profileCardImage.classList.add('hidden');
            profileCardIcon.classList.remove('hidden');

            profileCardIcon.textContent = icon;
            profileCardIcon.style.color = iconColor;
            if (iconFilled) {
                profileCardIcon.classList.add('filled');
            } else {
                profileCardIcon.classList.remove('filled');
            }
        } else {
            profileCardIcon.classList.add('hidden');
            profileCardImage.classList.remove('hidden');
        }
    }

    clearCurrentMarks();
    markAsCurrent(a);
  }

  listEl.querySelectorAll('.profile-option').forEach(a => {
    a.addEventListener('click', (e) => {
      e.preventDefault();
      switchProfile(a);
    });
  });

  const carousel = document.getElementById('courses-carousel');
  const scrollLeftBtn = document.getElementById('scroll-left-btn');
  const scrollRightBtn = document.getElementById('scroll-right-btn');

  if (carousel && scrollLeftBtn && scrollRightBtn) {
    const updateArrowState = () => {
      const maxScrollLeft = carousel.scrollWidth - carousel.clientWidth;
      scrollLeftBtn.disabled = carousel.scrollLeft <= 0;
      scrollRightBtn.disabled = carousel.scrollLeft >= maxScrollLeft - 1;
    };

    scrollLeftBtn.addEventListener('click', () => {
      const card = carousel.querySelector('div');
      if (card) {
        carousel.scrollBy({
          left: -(card.offsetWidth + 24),
          behavior: 'smooth'
        });
      }
    });

    scrollRightBtn.addEventListener('click', () => {
      const card = carousel.querySelector('div');
      if (card) {
        carousel.scrollBy({
          left: card.offsetWidth + 24,
          behavior: 'smooth'
        });
      }
    });

    carousel.addEventListener('scroll', updateArrowState);
    window.addEventListener('resize', updateArrowState);
    updateArrowState();
  }

  const wipLinks = document.querySelectorAll('.wip-link');
  wipLinks.forEach(link => {
      link.setAttribute('title', 'Página em construção');
      link.addEventListener('click', (event) => {
          event.preventDefault();
      });
  });
});
</script>
</body>
</html>
