<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Login - Prontuário Médico</title>

<!-- Tailwind -->
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<!-- Material Symbols -->
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
<!-- Tipografia -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=PT+Sans:wght@400;700&display=swap" rel="stylesheet">

<style type="text/tailwindcss">
  :root { --carousel-item-count: 7; --carousel-duration: 35s; --item-duration: 5s; }
  body { font-family: 'PT Sans', sans-serif; }

  .material-symbols-outlined {
    font-variation-settings: 'FILL' 0,'wght' 400,'GRAD' 0,'opsz' 24;
  }

  /* HERO (lado esquerdo) */
  .bg-visual {
    background-color: #467de9;
    position: relative; overflow: hidden;
  }
  .bg-visual::before { content:""; position:absolute; inset:0; background:rgba(0,0,0,.18); z-index:1; }
  .icon-overlay { position:absolute; color:rgba(255,255,255,.1); font-size:5rem; opacity:.55; animation:float 15s infinite ease-in-out; z-index:2; }
  .icon-1{top:15%;left:20%} .icon-2{top:30%;left:80%;font-size:4rem;animation-delay:2s}
  .icon-3{top:70%;left:10%;font-size:6rem;animation-delay:4s} .icon-4{top:85%;left:60%;animation-delay:6s}
  .icon-5{top:50%;left:50%;font-size:3.5rem;animation-delay:8s}
  @keyframes float { 0%{transform:translateY(0) rotate(0)} 50%{transform:translateY(-20px) rotate(10deg)} 100%{transform:translateY(0) rotate(0)} }

  /* Carrossel */
  .carousel{position:relative;width:100%;height:200px;overflow:hidden}
  .carousel-card{background:rgba(255,255,255,.95);border-radius:1rem;padding:1.5rem;box-shadow:0 10px 25px -5px rgba(0,0,0,.2),0 8px 10px -6px rgba(0,0,0,.2);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2)}
  .carousel-item{position:absolute;inset:0;opacity:0;display:grid;place-items:center;animation:carousel-animation var(--carousel-duration) infinite}
  .carousel-item:nth-child(1){animation-delay:calc(var(--item-duration)*0)}
  .carousel-item:nth-child(2){animation-delay:calc(var(--item-duration)*1)}
  .carousel-item:nth-child(3){animation-delay:calc(var(--item-duration)*2)}
  .carousel-item:nth-child(4){animation-delay:calc(var(--item-duration)*3)}
  .carousel-item:nth-child(5){animation-delay:calc(var(--item-duration)*4)}
  .carousel-item:nth-child(6){animation-delay:calc(var(--item-duration)*5)}
  .carousel-item:nth-child(7){animation-delay:calc(var(--item-duration)*6)}
  @keyframes carousel-animation{0%{opacity:0;transform:translateY(20px) scale(.95)}3%{opacity:1;transform:translateY(0) scale(1)}14.28%{opacity:1;transform:translateY(0) scale(1)}17.28%{opacity:0;transform:translateY(-20px) scale(.95)}100%{opacity:0}}
  .carousel-dots{position:absolute;bottom:-2rem;left:50%;transform:translateX(-50%);display:flex;gap:.5rem}
  .dot{width:8px;height:8px;border-radius:50%;background:rgba(255,255,255,.4);animation:dot-animation var(--carousel-duration) infinite}
  .dot:nth-child(1){animation-delay:calc(var(--item-duration)*0)}
  .dot:nth-child(2){animation-delay:calc(var(--item-duration)*1)}
  .dot:nth-child(3){animation-delay:calc(var(--item-duration)*2)}
  .dot:nth-child(4){animation-delay:calc(var(--item-duration)*3)}
  .dot:nth-child(5){animation-delay:calc(var(--item-duration)*4)}
  .dot:nth-child(6){animation-delay:calc(var(--item-duration)*5)}
  .dot:nth-child(7){animation-delay:calc(var(--item-duration)*6)}
  @keyframes dot-animation{0%,14.28%{background:#fff}14.29%,100%{background:rgba(255,255,255,.4)}}
</style>
</head>

<body class="bg-[#F0F7FF]" x-data="loginForm()">
  <div class="flex min-h-screen">

    <!-- HERO ESQUERDA -->
    <div class="hidden lg:flex w-1/2 bg-visual flex-col justify-center items-center p-12 text-center relative">
      <span class="material-symbols-outlined icon-overlay icon-1">cardiology</span>
      <span class="material-symbols-outlined icon-overlay icon-2">biotech</span>
      <span class="material-symbols-outlined icon-overlay icon-3">bar_chart_4_bars</span>
      <span class="material-symbols-outlined icon-overlay icon-4">dna</span>
      <span class="material-symbols-outlined icon-overlay icon-5">health_and_safety</span>

      <div class="z-10 w-full max-w-3xl space-y-10 text-left">
        <h2 class="text-5xl font-bold mb-4 leading-tight tracking-tight text-white">
          Conectando a saúde. <br/> Simplificando o cuidado.
        </h2>
        <p class="text-xl font-normal text-white">
          Plataforma completa para gestão inteligente de prontuários — para você, sua família e seus profissionais de saúde.
        </p>

        <!-- Carrossel de valor -->
        <div class="carousel z-10">
          <div class="carousel-item"><div class="carousel-card text-[#4d4d4d] w-full max-w-xs"><span class="material-symbols-outlined text-4xl text-[#467de9] mb-2">folder_managed</span><h3 class="font-bold text-xl">Gerencie Prontuários</h3><p class="text-base">Organize informações de pacientes com fluxo intuitivo.</p></div></div>
          <div class="carousel-item"><div class="carousel-card text-[#4d4d4d] w-full max-w-xs"><span class="material-symbols-outlined text-4xl text-[#467de9] mb-2">biotech</span><h3 class="font-bold text-xl">Resultados de Exames</h3><p class="text-base">Laudos e resultados com agilidade e segurança.</p></div></div>
          <div class="carousel-item"><div class="carousel-card text-[#4d4d4d] w-full max-w-xs"><span class="material-symbols-outlined text-4xl text-[#467de9] mb-2">security</span><h3 class="font-bold text-xl">LGPD & Privacidade</h3><p class="text-base">Criptografia em trânsito e em repouso.</p></div></div>
          <div class="carousel-item"><div class="carousel-card text-[#4d4d4d] w-full max-w-xs"><span class="material-symbols-outlined text-4xl text-[#467de9] mb-2">show_chart</span><h3 class="font-bold text-xl">Tendências de Saúde</h3><p class="text-base">Acompanhe indicadores e histórico.</p></div></div>
          <div class="carousel-item"><div class="carousel-card text-[#4d4d4d] w-full max-w-xs"><span class="material-symbols-outlined text-4xl text-[#467de9] mb-2">groups</span><h3 class="font-bold text-xl">Rede Familiar</h3><p class="text-base">Inclua dependentes e responsáveis.</p></div></div>
          <div class="carousel-item"><div class="carousel-card text-[#4d4d4d] w-full max-w-xs"><span class="material-symbols-outlined text-4xl text-[#467de9] mb-2">psychology</span><h3 class="font-bold text-xl">Insights Inteligentes</h3><p class="text-base">Suporte à decisão para você e seu médico.</p></div></div>
          <div class="carousel-item"><div class="carousel-card text-[#4d4d4d] w-full max-w-xs"><span class="material-symbols-outlined text-4xl text-[#467de9] mb-2">share_location</span><h3 class="font-bold text-xl">Acesso em Qualquer Lugar</h3><p class="text-base">Disponível em qualquer dispositivo, a qualquer hora.</p></div></div>
          <div class="carousel-dots z-10"><div class="dot"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div></div>
        </div>
      </div>
    </div>

    <!-- CARD DE LOGIN (DIREITA) -->
    <div class="w-full lg:w-1/2 flex items-center justify-center p-6 sm:p-12 bg-[#F0F7FF]">
      <div class="w-full max-w-md">
        <div class="bg-white p-8 md:p-10 rounded-2xl shadow-xl ring-1 ring-gray-200">
          <div class="flex flex-col items-center text-center">
            <img src="../Imagens/logomarca-somos.png" alt="Logotipo do Sistema" class="h-16 w-auto mb-4">
            <h1 class="text-3xl font-bold text-[#4d4d4d]">Entre e sinta-se acolhido!</h1>
            <p class="text-lg text-[#4d4d4d] mt-2 mb-8">Faça seu login para continuar.</p>
          </div>

          <form id="form" class="space-y-6" novalidate @submit.prevent="handleLogin()">
            <!-- E-mail -->
            <div>
              <label for="email" class="sr-only">Email</label>
              <div class="relative">
                <span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-400">person</span>
                <input id="email" name="email" type="email" autocomplete="email" required
                  class="block w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg text-[#4d4d4d] placeholder-[#4d4d4d]
                         focus:outline-none focus:ring-2 focus:ring-[#467de9] transition"
                  placeholder="Seu e-mail ou usuário" />
              </div>
              <p id="email-error" class="mt-2 text-xs text-red-600 hidden" role="alert" aria-live="polite">Use um e-mail válido.</p>
            </div>

            <!-- Senha -->
            <div>
              <label for="password" class="sr-only">Senha</label>
              <div class="relative">
                <span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-400">lock</span>
                <input id="password" name="password" type="password" autocomplete="current-password" required
                  class="block w-full pl-12 pr-11 py-3 border border-gray-200 rounded-lg text-[#4d4d4d] placeholder-[#4d4d4d]
                         focus:outline-none focus:ring-2 focus:ring-[#467de9] transition"
                  placeholder="Sua senha" />
                <!-- Toggle senha -->
                <button id="togglePwd" type="button" aria-label="Mostrar senha" aria-pressed="false"
                  class="absolute right-2 top-1/2 -translate-y-1/2 p-2 text-gray-500 hover:text-[#4d4d4d]">
                  <span id="eyeIcon" class="material-symbols-outlined text-[20px]">visibility</span>
                </button>
              </div>
              <div class="flex justify-between mt-2 text-base">
                <label class="inline-flex items-center gap-2 text-[#4d4d4d]">
                  <input id="remember-me" name="remember-me" type="checkbox"
                    class="h-4 w-4 text-[#467de9] focus:ring-[#467de9] border-gray-200 rounded" />
                  Lembrar-me
                </label>
                <a href="./redefinicao-de-senha.html" class="font-bold text-[#467de9] hover:text-[#467de9]/90">Esqueceu a senha?</a>
              </div>
              <p id="password-error" class="mt-2 text-xs text-red-600 hidden" role="alert" aria-live="polite">A senha deve conter 6+ caracteres.</p>
            </div>

            <!-- CTA -->
            <button type="submit"
              class="w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-lg font-bold
                     text-white bg-[#467de9] hover:bg-[#467de9]/90
                     focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#467de9] active:scale-[.98] transition">
              Entrar
            </button>

            <!-- SSO -->
            <div class="space-y-3">
              <div class="relative text-center">
                <div class="absolute inset-0 flex items-center" aria-hidden="true"><div class="w-full border-t border-gray-200"></div></div>
                <div class="relative inline-flex items-center justify-center bg-white px-3 text-sm text-[#4d4d4d]">ou</div>
              </div>
              <a href="#"
                class="w-full inline-flex justify-center items-center gap-2 py-3 px-4 rounded-lg text-base font-bold
                       bg-white border border-gray-300 text-[#4d4d4d] hover:bg-gray-50 focus:outline-none
                       focus:ring-2 focus:ring-[#467de9]">
                <svg class="w-5 h-5" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><path d="M43.611 20.083H42V20H24v8h11.303c-1.649 4.657-6.08 8-11.303 8-6.627 0-12-5.373-12-12s5.373-12 12-12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4 12.955 4 4 12.955 4 24s8.955 20 20 20c11.045 0 20-8.955 20-20 .001-2.341-.346-4.636-1.002-6.786z" fill="#FFC107"></path><path d="M6.306 14.691l6.571 4.819C14.655 15.108 18.961 12 24 12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4 16.318 4 9.656 8.337 6.306 14.691z" fill="#FF3D00"></path><path d="M24 44c5.166 0 9.86-1.977 13.409-5.192l-6.19-5.238C29.211 35.091 26.715 36 24 36c-5.202 0-9.619-3.317-11.283-7.946l-6.522 5.025C9.505 39.556 16.227 44 24 44z" fill="#4CAF50"></path><path d="M43.611 20.083H24v8h11.303c-.792 2.237-2.231 4.166-4.082 5.571l6.19 5.238C42.022 35.138 44 30.023 44 24c0-2.341-.346-4.636-1.002-6.786z" fill="#1976D2"></path></svg>
                Entrar com Google
              </a>
              <a href="#"
                class="w-full inline-flex justify-center items-center gap-2 py-3 px-4 rounded-lg text-base font-bold
                       bg-white border border-gray-300 text-[#4d4d4d] hover:bg-gray-50 focus:outline-none
                       focus:ring-2 focus:ring-[#467de9]">
                <img class="h-8 w-auto -my-1.5 object-contain" src="./icon-GOV.png" alt="Logo Gov.br">
                Entrar com Gov.br
              </a>
            </div>

            <!-- Criar conta + Termos -->
            <p class="mt-4 text-center text-base text-[#4d4d4d]">
              Não tem uma conta? <a class="font-bold text-[#467de9] hover:text-[#467de9]/90" href="./Telas de cadastro/cadastro.html">Crie uma conta</a>
            </p>
            <p class="text-center text-sm text-[#4d4d4d]">
              Ao continuar, você concorda com nossos
              <a href="#" class="underline hover:text-[#4d4d4d]">Termos</a> e
              <a href="#" class="underline hover:text-[#4d4d4d]">Política de Privacidade</a>.
            </p>
          </form>
        </div>
      </div>
    </div>
  </div>

<div x-show="showAccessModal" style="display: none;" @keydown.escape.window="showAccessModal = false" class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4" x-transition:enter="ease-out duration-300" x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100" x-transition:leave="ease-in duration-200" x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0">
    <div @click.away="showAccessModal = false" class="bg-white rounded-2xl shadow-xl p-8 w-full max-w-lg text-center transform transition-all" x-show="showAccessModal" x-transition:enter="ease-out duration-300" x-transition:enter-start="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95" x-transition:enter-end="opacity-100 translate-y-0 sm:scale-100" x-transition:leave="ease-in duration-200" x-transition:leave-start="opacity-100 translate-y-0 sm:scale-100" x-transition:leave-end="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95">
        <span class="material-symbols-outlined text-6xl text-[#467de9] mb-4">waving_hand</span>
        <h2 class="text-2xl font-bold text-[#4d4d4d] mb-3">Que bom ter você por aqui!</h2>
        <p class="text-base text-[#4d4d4d] mb-4">
            Ficamos felizes com seu interesse na SOMOS! No momento, estamos em uma fase de acesso exclusivo para convidados, aprimorando cada detalhe da plataforma para oferecer a melhor experiência.
        </p>
        <p class="text-base font-bold text-[#4d4d4d] mb-4">
            Para solicitar sua liberação, envie um e-mail para <strong class="font-bold">contato@rsomos.com.br</strong> com as seguintes informações:
        </p>
        <ul class="text-left space-y-2 inline-block mb-6">
            <li class="flex items-center"><span class="material-symbols-outlined text-green-500 mr-2" style="font-variation-settings: 'FILL' 1">check_circle</span>Uma breve apresentação sobre você.</li>
            <li class="flex items-center"><span class="material-symbols-outlined text-green-500 mr-2" style="font-variation-settings: 'FILL' 1">check_circle</span>O motivo do seu interesse na SOMOS.</li>
            <li class="flex items-center"><span class="material-symbols-outlined text-green-500 mr-2" style="font-variation-settings: 'FILL' 1">check_circle</span>Como você gostaria de contribuir.</li>
        </ul>
        <p class="text-sm text-gray-500 mb-8">Após a análise, nossa equipe entrará em contato.</p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
            <button type="button" @click="showAccessModal = false" class="w-full sm:w-auto flex justify-center py-3 px-6 border border-gray-300 rounded-lg text-base font-bold text-[#4d4d4d] bg-white hover:bg-gray-50 transition-colors">
                Entendi
            </button>
            <a href="mailto:contato@rsomos.com.br?subject=Solicitação de Acesso - Plataforma SOMOS&body=Olá, equipe SOMOS!%0A%0AGostaria de solicitar acesso à plataforma.%0A%0A-%20Apresentação:%20[Escreva brevemente sobre você]%0A%0A-%20Motivo do Interesse:%20[Conte-nos por que você tem interesse na SOMOS]%0A%0A-%20Como Gostaria de Contribuir:%20[Descreva como você gostaria de contribuir com o projeto]%0A%0AAgradeço a atenção.%0A%0AAtenciosamente,%0A[Seu Nome]" class="w-full sm:w-auto flex justify-center items-center gap-2 py-3 px-6 border border-transparent rounded-lg shadow-sm text-base font-bold text-white bg-[#467de9] hover:bg-[#467de9]/90 transition-colors">
                <span class="material-symbols-outlined">email</span>
                Solicitar por E-mail
            </a>
        </div>
    </div>
</div>
<script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

<script>
  function loginForm() {
    return {
      showAccessModal: false,
      handleLogin() {
        const emailInput = document.getElementById('email');
        const passwordInput = document.getElementById('password');
        const emailErr = document.getElementById('email-error');
        const pwdErr = document.getElementById('password-error');
        const emailRe = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        
        const okEmail = emailInput.value && emailRe.test(emailInput.value);
        const okPwd = passwordInput.value && passwordInput.value.length >= 6;

        let isValid = true;
        if (!okEmail) {
          showError(emailInput, emailErr, 'Use um e-mail válido.');
          isValid = false;
        } else {
          clearError(emailInput, emailErr);
        }
        
        if (!okPwd) {
          showError(passwordInput, pwdErr, 'A senha deve conter 6+ caracteres.');
          isValid = false;
        } else {
          clearError(passwordInput, pwdErr);
        }

        if (isValid) {
          this.showAccessModal = true;
        }
      }
    }
  }

  function showError(input, el, msg){
    if(msg) el.textContent = msg;
    input.setAttribute('aria-invalid','true');
    input.classList.add('border-red-500','focus:border-red-500','focus:ring-red-500');
    el.classList.remove('hidden');
  }

  function clearError(input, el){
    input.removeAttribute('aria-invalid');
    input.classList.remove('border-red-500','focus:border-red-500','focus:ring-red-500');
    el.classList.add('hidden');
  }

  document.addEventListener('DOMContentLoaded', () => {
    sessionStorage.removeItem('registrationData');
    
    const email = document.getElementById('email');
    const pwd = document.getElementById('password');
    const emailErr = document.getElementById('email-error');
    const pwdErr = document.getElementById('password-error');
    const emailRe = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

    email.addEventListener('blur', ()=>{
      (!email.value || !emailRe.test(email.value))
        ? showError(email,emailErr,'Use um e-mail válido.')
        : clearError(email,emailErr);
    });

    pwd.addEventListener('blur', ()=>{
      (!pwd.value || pwd.value.length < 6)
        ? showError(pwd,pwdErr,'A senha deve conter 6+ caracteres.')
        : clearError(pwd,pwdErr);
    });

    const toggle = document.getElementById('togglePwd');
    const eyeIcon = document.getElementById('eyeIcon');
    toggle.addEventListener('click', ()=>{
      const show = pwd.type === 'password';
      pwd.type = show ? 'text' : 'password';
      toggle.setAttribute('aria-pressed', String(show));
      eyeIcon.textContent = show ? 'visibility_off' : 'visibility';
    });
  });
</script>
</body>
</html>
