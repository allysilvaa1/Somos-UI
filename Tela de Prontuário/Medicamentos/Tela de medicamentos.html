<!DOCTYPE html>
<html lang="pt-BR"><head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Prontuário Médico - Medicamentos</title>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&amp;display=swap" rel="stylesheet"/>
<style type="text/tailwindcss">
        body {
            font-family: 'Inter', sans-serif;
        }
        .material-symbols-outlined {
          font-variation-settings:
          'FILL' 0,
          'wght' 400,
          'GRAD' 0,
          'opsz' 24
        }
        .logo-s {
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
        }
        .group[open] .group-open\:rotate-180 {
            transform: rotate(180deg);
        }
    </style>
</head>
<body class="bg-gray-50">
<div class="flex flex-col min-h-screen">
<header class="bg-white shadow-sm sticky top-0 z-10">
<div class="container mx-auto px-4 sm:px-6 lg:px-8">
<div class="flex justify-between items-center h-16">
<div class="flex items-center space-x-8">
<a href="#">
<div class="h-10 w-10 flex items-center justify-center bg-white rounded-lg">
<span class="text-4xl logo-s text-[#7EC8F5]">S</span>
</div>
</a>
<nav class="hidden md:flex space-x-6">
<a class="text-gray-600 hover:text-blue-600 font-medium text-base" href="#">Início</a>
<a class="text-gray-600 hover:text-blue-600 font-medium text-base" href="#">Rede</a>
<a class="text-blue-600 border-b-2 border-blue-600 font-semibold text-base" href="#">Registro Médico</a>
<a class="text-gray-600 hover:text-blue-600 font-medium text-base" href="#">Notificações</a>
<a class="text-gray-600 hover:text-blue-600 font-medium text-base" href="#">Mensagens</a>
</nav>
</div>
<div class="flex items-center space-x-4">
<div class="relative hidden sm:block">
<span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-400">search</span>
<input class="bg-gray-100 rounded-lg pl-10 pr-4 py-2 w-48 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Pesquisar..." type="text"/>
</div>
<button class="text-gray-500 hover:text-blue-600">
<span class="material-symbols-outlined">settings</span>
</button>
<img alt="Foto do perfil do usuário" class="h-10 w-10 rounded-full" src="https://lh3.googleusercontent.com/aida-public/AB6AXuAB8ZVFu4v9J1hJM6RKcvebY-36DnmXe679p0TKOB4-Fx0TPd39T3X4HIqq-3R2HJsI6ckXPXpYPLJiP8JpN_yafsVXGwN3ToJd1q218Dl7vERYZsi1KlqpJundMdO5VEx6krNe7khcm7UdIhZR76-efpfOOwUaZ5sJwxeZX4gVJb5mI7Tx88_wdTkTiM0TccOaijPrx_9YoXLyVZenwZ1yXpC901c2oWA2g23Hk8ifCEQBHsCGvDeTkabgC8eErBiTLDbsiONJy4k"/>
</div>
</div>
</div>
</header>
<main class="flex-grow bg-[#F0F8FF] py-8">
<div class="container mx-auto px-4 sm:px-6 lg:px-8">
<div class="grid grid-cols-1 lg:grid-cols-4 gap-8">
<aside class="lg:col-span-1">
<div class="bg-white p-6 rounded-lg shadow-md flex flex-col items-center sticky top-24">
<img alt="Foto do perfil do paciente" class="h-32 w-32 rounded-full mb-4 ring-4 ring-blue-100" src="https://lh3.googleusercontent.com/aida-public/AB6AXuBTyrv41FvmMs9dEsRUHQH10HCG6iTS3g5OUGaxbd2-JUNlbmfyBWWn6UvFYxDF1IXXNIGDL1aHiJt7cIBUflCtf3DNdkwY465XSYJVfheoRg45dgbAv-7oVRKXH2AZoxVEHp8c-89XVbCQfnvKUzEaPffGwlK1zx0yOZuPpa93uiGgTIHX8Uuh9qRd8u47Er1OvHXIDlL3FTBIz4_3vlUi8rj1cdDFisfkdWlOxaSuGPokYmSk_OgTrm0E7EhhlgjPIO4VrT2Rfw0"/>
<h2 class="text-2xl font-semibold text-gray-800">Sofia Almeida</h2>
<p class="text-gray-500 mb-2">ID: 123456789</p>
<p class="text-sm text-gray-400 text-center mb-6">Última atualização: 15/07/2024</p>
<nav class="w-full space-y-2">
<a class="flex items-center p-3 rounded-lg hover:bg-gray-100 text-gray-600 font-medium" href="../Resumo/Tela de Resumo.html">
<span class="material-symbols-outlined mr-3">summarize</span>
<span>Resumo</span>
</a>
<a class="flex items-center p-3 rounded-lg hover:bg-gray-100 text-gray-600 font-medium" href="../Histórico Médico/Teda de historico medico.html">
<span class="material-symbols-outlined mr-3">history</span>
<span>Histórico Médico</span>
</a>
<a class="flex items-center p-3 rounded-lg hover:bg-gray-100 text-gray-600 font-medium" href="../Resultado de Exames/Tela de resultado de exames.html">
<span class="material-symbols-outlined mr-3">description</span>
<span>Resultados de Exames</span>
</a>
<a class="flex items-center p-3 rounded-lg bg-blue-50 text-blue-600 font-semibold" href="./Tela de medicamentos.html">
<span class="material-symbols-outlined mr-3">medication</span>
<span>Medicamentos</span>
</a>
<a class="flex items-center p-3 rounded-lg hover:bg-gray-100 text-gray-600 font-medium" href="../Rede de Apoio/Tela de rede de apoio.html">
<span class="material-symbols-outlined mr-3">group</span>
<span>Rede de Apoio</span>
</a>
</nav>
</div>
</aside>
<section class="lg:col-span-3">
<div class="flex flex-col h-full">
<div class="flex justify-between items-center mb-6">
<h1 class="text-3xl font-bold text-gray-800">Medicamentos</h1>
<a href="./cadasto-de-medicacao.html" class="flex items-center bg-blue-600 text-white rounded-lg px-4 py-2 text-sm font-medium hover:bg-blue-700">
<span class="material-symbols-outlined text-sm mr-2">add</span>
                            Adicionar Novo Medicamento
                        </a>
</div>
<div class="bg-white p-4 rounded-lg shadow-md mb-6">
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 items-center">
<div class="relative md:col-span-2 lg:col-span-2">
<span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-400">search</span>
<input class="bg-gray-100 rounded-lg pl-10 pr-4 py-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Buscar por nome do medicamento..." type="text"/>
</div>
<div>
<select class="w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm">
<option>Filtrar por status</option>
<option>Ativo</option>
<option>Concluído</option>
<option>Suspenso</option>
</select>
</div>
<div class="relative">
<select class="w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm appearance-none pr-8">
<option selected="">Ordenar por...</option>
<option>Data (mais recente)</option>
<option>Data (mais antiga)</option>
<option>Nome (A-Z)</option>
<option>Nome (Z-A)</option>
<option>Status</option>
</select>
<span class="material-symbols-outlined absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none">sort</span>
</div>
</div>
</div>
<div class="space-y-6">
<div>
<h2 class="text-2xl font-bold text-gray-800 mb-4">Medicamentos Atuais</h2>
<div class="space-y-4" id="medicamentos-atuais-lista">
<details class="group medication-card bg-white p-6 rounded-lg shadow-md border-l-4 border-green-500">
<summary class="flex flex-col sm:flex-row justify-between items-start list-none cursor-pointer">
<div class="flex-1">
<h3 class="text-xl font-semibold text-gray-800">Lisinopril</h3>
<p class="text-gray-600 mb-2" data-display="full-dosage">10mg, 1 vez ao dia, via oral</p>
<p class="text-sm text-gray-500" data-display="dates">Início: 01/03/2023 - Fim: Contínuo</p>
</div>
<div class="flex items-center space-x-4 mt-4 sm:mt-0">
<span class="inline-flex items-center bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded-full" data-display="status">Ativo</span>
<button class="text-gray-500 hover:text-blue-600" title="Ver Prescrição">
<span class="material-symbols-outlined">description</span>
</button>
<span class="material-symbols-outlined text-gray-400 group-hover:text-gray-600 transition-transform duration-300 transform group-open:rotate-180">expand_more</span>
</div>
</summary>
<div class="mt-6 pt-6 border-t border-gray-200 grid grid-cols-1 sm:grid-cols-2 gap-6">
<div>
<label class="block text-sm font-medium text-gray-700">Dosagem</label>
<div class="mt-1 flex rounded-md shadow-sm">
<input class="block w-full flex-1 rounded-none rounded-l-md border-gray-300 focus:border-blue-500 focus:ring-blue-500 sm:text-sm" data-source="dosage" type="number" value="10"/>
<select class="block rounded-r-md border-l-0 border-gray-300 bg-gray-50 text-gray-700 focus:border-blue-500 focus:ring-blue-500 sm:text-sm" data-source="dosage-unit">
<option selected>mg</option>
<option>ml</option>
</select>
</div>
</div>
<div>
<label class="block text-sm font-medium text-gray-700">Frequência</label>
<select class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm" data-source="frequency">
<option selected>1 vez ao dia</option>
<option>2 vezes ao dia</option>
</select>
</div>
<div>
<label class="block text-sm font-medium text-gray-700">Via de Administração</label>
<select class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm" data-source="route">
<option selected>Oral</option>
<option>Tópica</option>
</select>
</div>
<div>
<label class="block text-sm font-medium text-gray-700">Status</label>
<select class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm" data-source="status">
<option selected>Ativo</option>
<option>Suspenso</option>
<option>Concluído</option>
</select>
</div>
<div>
<label class="block text-sm font-medium text-gray-700">Data de Início</label>
<input class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm" data-source="start-date" type="text" value="01/03/2023"/>
</div>
<div>
<label class="block text-sm font-medium text-gray-700">Data de Término</label>
<input class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm" data-source="end-date" type="text" value="Contínuo"/>
</div>
</div>
</details>
<details class="group medication-card bg-white p-6 rounded-lg shadow-md border-l-4 border-green-500">
<summary class="flex flex-col sm:flex-row justify-between items-start list-none cursor-pointer">
<div class="flex-1">
<h3 class="text-xl font-semibold text-gray-800">Metformina</h3>
<p class="text-gray-600 mb-2" data-display="full-dosage">850mg, 2 vezes ao dia, via oral</p>
<p class="text-sm text-gray-500" data-display="dates">Início: 15/06/2022 - Fim: Contínuo</p>
</div>
<div class="flex items-center space-x-4 mt-4 sm:mt-0">
<span class="inline-flex items-center bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded-full" data-display="status">Ativo</span>
<button class="text-gray-500 hover:text-blue-600" title="Ver Prescrição">
<span class="material-symbols-outlined">description</span>
</button>
<span class="material-symbols-outlined text-gray-400 group-hover:text-gray-600 transition-transform duration-300 transform group-open:rotate-180">expand_more</span>
</div>
</summary>
<div class="mt-6 pt-6 border-t border-gray-200 grid grid-cols-1 sm:grid-cols-2 gap-6">
<div>
<label class="block text-sm font-medium text-gray-700">Dosagem</label>
<div class="mt-1 flex rounded-md shadow-sm">
<input class="block w-full flex-1 rounded-none rounded-l-md border-gray-300 focus:border-blue-500 focus:ring-blue-500 sm:text-sm" data-source="dosage" type="number" value="850"/>
<select class="block rounded-r-md border-l-0 border-gray-300 bg-gray-50 text-gray-700 focus:border-blue-500 focus:ring-blue-500 sm:text-sm" data-source="dosage-unit">
<option selected>mg</option>
<option>ml</option>
</select>
</div>
</div>
<div>
<label class="block text-sm font-medium text-gray-700">Frequência</label>
<select class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm" data-source="frequency">
<option>1 vez ao dia</option>
<option selected>2 vezes ao dia</option>
</select>
</div>
<div>
<label class="block text-sm font-medium text-gray-700">Via de Administração</label>
<select class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm" data-source="route">
<option selected>Oral</option>
<option>Tópica</option>
</select>
</div>
<div>
<label class="block text-sm font-medium text-gray-700">Status</label>
<select class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm" data-source="status">
<option selected>Ativo</option>
<option>Suspenso</option>
<option>Concluído</option>
</select>
</div>
<div>
<label class="block text-sm font-medium text-gray-700">Data de Início</label>
<input class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm" data-source="start-date" type="text" value="15/06/2022"/>
</div>
<div>
<label class="block text-sm font-medium text-gray-700">Data de Término</label>
<input class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm" data-source="end-date" type="text" value="Contínuo"/>
</div>
</div>
</details>
<details class="group medication-card bg-white p-6 rounded-lg shadow-md border-l-4 border-yellow-500">
<summary class="flex flex-col sm:flex-row justify-between items-start list-none cursor-pointer">
<div class="flex-1">
<h3 class="text-xl font-semibold text-gray-800">Amoxicilina</h3>
<p class="text-gray-600 mb-2" data-display="full-dosage">500mg, de 8 em 8 horas, via oral</p>
<p class="text-sm text-gray-500" data-display="dates">Início: 10/07/2024 - Fim: 17/07/2024</p>
</div>
<div class="flex items-center space-x-4 mt-4 sm:mt-0">
<span class="inline-flex items-center bg-yellow-100 text-yellow-800 text-xs font-medium px-2.5 py-0.5 rounded-full" data-display="status">Suspenso</span>
<button class="text-gray-500 hover:text-blue-600" title="Ver Prescrição">
<span class="material-symbols-outlined">description</span>
</button>
<span class="material-symbols-outlined text-gray-400 group-hover:text-gray-600 transition-transform duration-300 transform group-open:rotate-180">expand_more</span>
</div>
</summary>
<div class="mt-6 pt-6 border-t border-gray-200 grid grid-cols-1 sm:grid-cols-2 gap-6">
<div>
<label class="block text-sm font-medium text-gray-700">Dosagem</label>
<div class="mt-1 flex rounded-md shadow-sm">
<input class="block w-full flex-1 rounded-none rounded-l-md border-gray-300 focus:border-blue-500 focus:ring-blue-500 sm:text-sm" data-source="dosage" type="number" value="500"/>
<select class="block rounded-r-md border-l-0 border-gray-300 bg-gray-50 text-gray-700 focus:border-blue-500 focus:ring-blue-500 sm:text-sm" data-source="dosage-unit">
<option selected>mg</option>
<option>ml</option>
</select>
</div>
</div>
<div>
<label class="block text-sm font-medium text-gray-700">Frequência</label>
<select class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm" data-source="frequency">
<option>1 vez ao dia</option>
<option selected>de 8 em 8 horas</option>
</select>
</div>
<div>
<label class="block text-sm font-medium text-gray-700">Via de Administração</label>
<select class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm" data-source="route">
<option selected>Oral</option>
<option>Tópica</option>
</select>
</div>
<div>
<label class="block text-sm font-medium text-gray-700">Status</label>
<select class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm" data-source="status">
<option>Ativo</option>
<option selected>Suspenso</option>
<option>Concluído</option>
</select>
</div>
<div>
<label class="block text-sm font-medium text-gray-700">Data de Início</label>
<input class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm" data-source="start-date" type="text" value="10/07/2024"/>
</div>
<div>
<label class="block text-sm font-medium text-gray-700">Data de Término</label>
<input class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm" data-source="end-date" type="text" value="17/07/2024"/>
</div>
</div>
</details>
</div>
</div>
<div class="mt-8">
<h2 class="text-2xl font-bold text-gray-800 mb-4">Histórico de Medicamentos</h2>
<div class="bg-white rounded-lg shadow-md overflow-hidden">
<table class="w-full text-left">
<thead class="bg-gray-50 border-b">
<tr>
<th class="p-4 font-semibold text-gray-600">Medicamento</th>
<th class="p-4 font-semibold text-gray-600 hidden sm:table-cell">Período</th>
<th class="p-4 font-semibold text-gray-600">Status</th>
<th class="p-4"></th>
</tr>
</thead>
<tbody>
<tr class="border-b hover:bg-gray-50">
<td class="p-4 text-gray-800">
<p class="font-medium">Paracetamol</p>
<p class="text-sm text-gray-500 sm:hidden">05/05/2024 - 08/05/2024</p>
</td>
<td class="p-4 text-gray-800 hidden sm:table-cell">05/05/2024 - 08/05/2024</td>
<td class="p-4"><span class="inline-flex items-center bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded-full">Concluído</span></td>
<td class="p-4 text-right">
<a href="./detalhes-prescricao.html" class="text-gray-400 hover:text-gray-600"><span class="material-symbols-outlined">chevron_right</span></a>
</td>
</tr>
<tr class="border-b hover:bg-gray-50">
<td class="p-4 text-gray-800">
<p class="font-medium">Ibuprofeno</p>
<p class="text-sm text-gray-500 sm:hidden">12/02/2024 - 15/02/2024</p>
</td>
<td class="p-4 text-gray-800 hidden sm:table-cell">12/02/2024 - 15/02/2024</td>
<td class="p-4"><span class="inline-flex items-center bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded-full">Concluído</span></td>
<td class="p-4 text-right">
<a href="./detalhes-prescricao.html" class="text-gray-400 hover:text-gray-600"><span class="material-symbols-outlined">chevron_right</span></a>
</td>
</tr>
<tr class="hover:bg-gray-50">
<td class="p-4 text-gray-800">
<p class="font-medium">Sinvastatina</p>
<p class="text-sm text-gray-500 sm:hidden">01/01/2022 - 01/03/2023</p>
</td>
<td class="p-4 text-gray-800 hidden sm:table-cell">01/01/2022 - 01/03/2023</td>
<td class="p-4"><span class="inline-flex items-center bg-red-100 text-red-800 text-xs font-medium px-2.5 py-0.5 rounded-full">Interrompido</span></td>
<td class="p-4 text-right">
<a href="./detalhes-prescricao.html" class="text-gray-400 hover:text-gray-600"><span class="material-symbols-outlined">chevron_right</span></a>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</section>
</div>
</div>
</main>
</div>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const statusInfo = {
            'Ativo': {
                badgeClasses: 'bg-green-100 text-green-800',
                borderClasses: 'border-green-500',
            },
            'Suspenso': {
                badgeClasses: 'bg-yellow-100 text-yellow-800',
                borderClasses: 'border-yellow-500',
            },
            'Concluído': {
                badgeClasses: 'bg-blue-100 text-blue-800',
                borderClasses: 'border-blue-500',
            }
        };

        function setupMedicationCard(card) {
            const fullDosageDisplay = card.querySelector('[data-display="full-dosage"]');
            const datesDisplay = card.querySelector('[data-display="dates"]');
            const statusBadge = card.querySelector('[data-display="status"]');

            const dosageInput = card.querySelector('[data-source="dosage"]');
            const dosageUnitSelect = card.querySelector('[data-source="dosage-unit"]');
            const frequencySelect = card.querySelector('[data-source="frequency"]');
            const routeSelect = card.querySelector('[data-source="route"]');
            const statusSelect = card.querySelector('[data-source="status"]');
            const startDateInput = card.querySelector('[data-source="start-date"]');
            const endDateInput = card.querySelector('[data-source="end-date"]');
            
            function updateDisplay() {
                fullDosageDisplay.textContent = `${dosageInput.value}${dosageUnitSelect.value}, ${frequencySelect.value}, via ${routeSelect.value.toLowerCase()}`;
                datesDisplay.textContent = `Início: ${startDateInput.value} - Fim: ${endDateInput.value}`;
                
                const selectedStatus = statusSelect.value;
                const info = statusInfo[selectedStatus];
                if (info) {
                    statusBadge.textContent = selectedStatus;
                    statusBadge.className = `inline-flex items-center text-xs font-medium px-2.5 py-0.5 rounded-full ${info.badgeClasses}`;
                    
                    Object.values(statusInfo).forEach(s => card.classList.remove(s.borderClasses));
                    card.classList.add(info.borderClasses);
                }
            }

            [dosageInput, dosageUnitSelect, frequencySelect, routeSelect, statusSelect, startDateInput, endDateInput].forEach(el => {
                el.addEventListener('change', updateDisplay);
                el.addEventListener('input', updateDisplay);
            });
        }

        document.querySelectorAll('.medication-card').forEach(setupMedicationCard);

        const novoMedicamentoData = localStorage.getItem('novoMedicamento');
        if (novoMedicamentoData) {
            const med = JSON.parse(novoMedicamentoData);
            const lista = document.getElementById('medicamentos-atuais-lista');
            const info = statusInfo[med.status] || statusInfo['Ativo'];
            
            const newMedCardHTML = `
                <details class="group medication-card bg-white p-6 rounded-lg shadow-md border-l-4 ${info.borderClasses}">
                    <summary class="flex flex-col sm:flex-row justify-between items-start list-none cursor-pointer">
                        <div class="flex-1">
                            <h3 class="text-xl font-semibold text-gray-800">${med.name}</h3>
                            <p class="text-gray-600 mb-2" data-display="full-dosage">${med.dosage}${med.dosage_unit}, ${med.frequency}, via ${med.route.toLowerCase()}</p>
                            <p class="text-sm text-gray-500" data-display="dates">Início: ${med.start_date} - Fim: ${med.end_date}</p>
                        </div>
                        <div class="flex items-center space-x-4 mt-4 sm:mt-0">
                            <span class="inline-flex items-center ${info.badgeClasses} text-xs font-medium px-2.5 py-0.5 rounded-full" data-display="status">${med.status}</span>
                            <button class="text-gray-500 hover:text-blue-600" title="Ver Prescrição"><span class="material-symbols-outlined">description</span></button>
                            <span class="material-symbols-outlined text-gray-400 group-hover:text-gray-600 transition-transform duration-300 transform group-open:rotate-180">expand_more</span>
                        </div>
                    </summary>
                     <div class="mt-6 pt-6 border-t border-gray-200 grid grid-cols-1 sm:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700">Dosagem</label>
                            <div class="mt-1 flex rounded-md shadow-sm">
                                <input class="block w-full flex-1 rounded-none rounded-l-md border-gray-300 sm:text-sm" data-source="dosage" type="number" value="${med.dosage}">
                                <select class="block rounded-r-md border-l-0 border-gray-300 bg-gray-50 text-gray-700 sm:text-sm" data-source="dosage-unit">
                                    <option ${med.dosage_unit === 'mg' ? 'selected' : ''}>mg</option>
                                    <option ${med.dosage_unit === 'ml' ? 'selected' : ''}>ml</option>
                                </select>
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700">Frequência</label>
                            <select class="mt-1 block w-full rounded-md border-gray-300 shadow-sm sm:text-sm" data-source="frequency">
                                <option ${med.frequency === '1 vez ao dia' ? 'selected' : ''}>1 vez ao dia</option>
                                <option ${med.frequency === '2 vezes ao dia' ? 'selected' : ''}>2 vezes ao dia</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700">Via de Administração</label>
                            <select class="mt-1 block w-full rounded-md border-gray-300 shadow-sm sm:text-sm" data-source="route">
                                <option ${med.route === 'Oral' ? 'selected' : ''}>Oral</option>
                                <option ${med.route === 'Tópica' ? 'selected' : ''}>Tópica</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700">Status</label>
                            <select class="mt-1 block w-full rounded-md border-gray-300 shadow-sm sm:text-sm" data-source="status">
                                <option ${med.status === 'Ativo' ? 'selected' : ''}>Ativo</option>
                                <option ${med.status === 'Suspenso' ? 'selected' : ''}>Suspenso</option>
                                <option ${med.status === 'Concluído' ? 'selected' : ''}>Concluído</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700">Data de Início</label>
                            <input class="mt-1 block w-full rounded-md border-gray-300 shadow-sm sm:text-sm" data-source="start-date" type="text" value="${med.start_date}">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700">Data de Término</label>
                            <input class="mt-1 block w-full rounded-md border-gray-300 shadow-sm sm:text-sm" data-source="end-date" type="text" value="${med.end_date}">
                        </div>
                    </div>
                </details>
            `;
            lista.insertAdjacentHTML('afterbegin', newMedCardHTML);
            
            const newCard = lista.firstElementChild;
            setupMedicationCard(newCard);

            localStorage.removeItem('novoMedicamento');
        }
    });
</script>
</body></html>